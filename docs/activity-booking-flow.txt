🎯 COMPLETE FRONTEND BOOKING FLOW — SCREEN BY SCREEN
===========================================================
📑 TABLE OF CONTENTS
-----------------------------------------------------------

1. Activity Booking Flow

===========================================================
1. ACTIVITY BOOKING FLOW
===========================================================

Screen AB-1: Activity Selection & Customer Details
-----------------------------------------------------------

┌────────────────────────────────────────────────────────────────────┐
│                    🏄 Mumbai Surf Club                              │
│                   Activity Booking                                 │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ← Back to Booking Options                                         │
│                                                                    │
│  ══════════════════════════════════════════════════════════════   │
│  Step 1 of 3: Activity & Details                              ●○○ │
│  ══════════════════════════════════════════════════════════════   │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Number of People                                                  │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  How many people will be joining?                                  │
│                                                                    │
│      [ - ]    5    [ + ]                                           │
│                                                                    │
│  Maximum 40 people per booking                                ⓘ   │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Customer Details                                                  │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  Full Name *                                                       │
│  [________________________________]                                │
│                                                                    │
│  Email Address *              Phone Number *                       │
│  [__________________]         [__________________]                 │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  People Details                                                    │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  Each person can choose their own activity                         │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ 👤 Person 1 (Primary Booker)                           │       │
│  ├────────────────────────────────────────────────────────┤       │
│  │ Name: [John Doe________________]  Age: [30]           │       │
│  │                                                        │       │
│  │ Select Activity: *                                     │       │
│  │ ┌──────────────────────────────────────────────────┐  │       │
│  │ │ 🏄 Surfing                                        │  │       │
│  │ │ • 90 minute session                              │  │       │
│  │ │ • Max 40 people per slot                         │  │       │
│  │ │ • ₹1,700 per person                               │  │       │
│  │ │                                   [Select] ✓     │  │       │
│  │ └──────────────────────────────────────────────────┘  │       │
│  │ ┌──────────────────────────────────────────────────┐  │       │
│  │ │ 🏄‍♂️ Stand Up Paddle (SUP)                         │  │       │
│  │ │ • 90 minute session                              │  │       │
│  │ │ • Max 12 people per slot                         │  │       │
│  │ │ • ₹1,700 per person                               │  │       │
│  │ │                                   [Select]       │  │       │
│  │ └──────────────────────────────────────────────────┘  │       │
│  │ ┌──────────────────────────────────────────────────┐  │       │
│  │ │ 🚣 Kayaking                                       │  │       │
│  │ │ • 90 minute session                              │  │       │
│  │ │ • Max 2 people per slot                          │  │       │
│  │ │ • ₹1,700 per person                               │  │       │
│  │ │                                   [Select]       │  │       │
│  │ └──────────────────────────────────────────────────┘  │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  👥 Person 2 — [Jane Doe] — [Age: 28] — [🏄 Surfing ✓]             │
│  👥 Person 3 — [Bob Smith] — [Age: 35] — [🏄 Surfing ✓]            │
│  👥 Person 4 — [Alice Johnson] — [Age: 29] — [🏄‍♂️ SUP ✓]         │
│  👥 Person 5 — [Mike Davis] — [Age: 31] — [🏄‍♂️ SUP ✓]            │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Activity Summary                                                  │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  ┌──────────────────────┬──────────────────────┐                  │
│  │ 🏄 Surfing            │ 🏄‍♂️ SUP              │                  │
│  │ 3 people             │ 2 people             │                  │
│  │ Max: 40 per slot  ✓  │ Max: 12 per slot  ✓  │                  │
│  └──────────────────────┴──────────────────────┘                  │
│                                                                    │
│  All activities within capacity limits                         ✅  │
│                                                                    │
│  ──────────────────────────────────────────────────────────────   │
│                                                                    │
│                            [ Next: Select Date & Time → ]          │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘

-----------------------------------------------------------
### VALIDATION RULES
-----------------------------------------------------------
- People Count: 1–40 people
- Customer Name: Required, letters and spaces only
- Email: Required, valid email format
- Phone: Required, 10-digit Indian mobile (starts with 6-9)
- Each Person:
  - Name: Required
  - Age: 5–80
  - Activity: Required
- Activity Capacity:
  • Surf  → Max 40 per slot  
  • SUP   → Max 12 per slot  
  • Kayak → Max 2 per slot  
  ⚠️ If exceeded → "Cannot book X people for [Activity]. Maximum is Y per slot."

-----------------------------------------------------------
### API CALLS ON THIS SCREEN
-----------------------------------------------------------
- On Load → `GET /utils/activities`
  → Returns activity types with current capacity & pricing data.

-----------------------------------------------------------
### NAVIGATION
-----------------------------------------------------------
- "← Back to Booking Options" → Returns to main booking hub.
- "Next: Select Date & Time →" → Validates all fields → Opens Screen AB-2.

-----------------------------------------------------------
### ERROR STATES
-----------------------------------------------------------
- Missing fields → Highlight in red + inline message.
- Capacity exceeded → Alert banner:
  "⚠️ You have selected X people for [Activity],  
   but maximum capacity is Y per slot. Please reduce or split the booking."
- Age invalid → "Age must be between 5 and 80 years."
-----------------------------------------------------------


===========================================================
Screen AB-2 : DATE & SLOT SELECTION
===========================================================

┌────────────────────────────────────────────────────────────────────┐
│                    🏄 Mumbai Surf Club                              │
│                   Activity Booking                                 │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ← Back to Activity Details                                        │
│                                                                    │
│  ══════════════════════════════════════════════════════════════   │
│  Step 2 of 3: Date & Time Selection                          ●●○  │
│  ══════════════════════════════════════════════════════════════   │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ Your Selection:                                         │       │
│  │ 5 people • 3 Surfing, 2 SUP                            │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Select Date                                                       │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│           [ ‹ ]   October 2025   [ › ]                             │
│                                                                    │
│   Mon   Tue   Wed   Thu   Fri   Sat   Sun                         │
│  ┌───┬───┬───┬───┬───┬───┬───┐                                    │
│  │   │   │ 1 │ 2 │ 3 │ 4 │ 5 │                                    │
│  ├───┼───┼───┼───┼───┼───┼───┤                                    │
│  │ 6 │ 7 │ 8 │ 9 │10 │11 │12 │                                    │
│  ├───┼───┼───┼───┼───┼───┼───┤                                    │
│  │13 │14 │15 │16 │17 │18 │19 │                                    │
│  ├───┼───┼───┼───┼───┼───┼───┤                                    │
│  │20 │21 │22 │23 │24*│25 │26 │ * = Today                          │
│  ├───┼───┼───┼───┼───┼───┼───┤ Green = Available                  │
│  │27 │28 │29 │30 │31 │   │   │ Gray = Unavailable                 │
│  └───┴───┴───┴───┴───┴───┴───┘                                    │
│                                                                    │
│  Selected: Friday, October 25, 2025                            ✓   │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Select Time Slots                                                 │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  You need to select slots for each activity:                      │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ 🏄 Surfing (3 people)                                   │       │
│  ├────────────────────────────────────────────────────────┤       │
│  │                                                        │       │
│  │  ○  7:30 AM - 9:00 AM                                 │       │
│  │      Available: 37/40 spots                       ✓   │       │
│  │                                                        │       │
│  │  ○  12:00 PM - 1:30 PM                                │       │
│  │      Available: 40/40 spots                       ✓   │       │
│  │                                                        │       │
│  │  ●  4:30 PM - 6:00 PM                   [SELECTED]    │       │
│  │      Available: 38/40 spots                       ✓   │       │
│  │                                                        │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ 🏄‍♂️ Stand Up Paddle (2 people)                          │       │
│  ├────────────────────────────────────────────────────────┤       │
│  │                                                        │       │
│  │  ○  8:30 AM - 10:00 AM                                │       │
│  │      Available: 10/12 spots                       ✓   │       │
│  │                                                        │       │
│  │  ●  3:00 PM - 4:30 PM                   [SELECTED]    │       │
│  │      Available: 12/12 spots                       ✓   │       │
│  │                                                        │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ⓘ Note: Different activities have different time slots           │
│                                                                    │
│  ──────────────────────────────────────────────────────────────   │
│                                                                    │
│  [ ← Back ]              [ Continue to Confirmation → ]            │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘

-----------------------------------------------------------
### VALIDATION RULES (AB-2)
-----------------------------------------------------------
- **Date Selection**:  
  Must be within the active booking window (Today → Next Monday).  
  Past or out-of-window dates are disabled.
  Even if user is booking for today's date, only next or upcoming slots 
  (slots available for upcoming, time post current time (all time in IST Indian standard time))
  (if user is booking for today 1 PM afternoon, he can't booking for the slot's in the morning)

- **Slot Selection**:  
  Must select exactly ONE slot for EACH chosen activity.

- **Capacity Check**:  
  • Validate in real-time against available spots.  
  • If insufficient capacity → disable that slot.  
  • Show inline message:  
    "❌ Insufficient capacity (need 3, only 2 available)"

- **All Activities Must Have Slot**:  
  Cannot proceed if any selected activity has no assigned slot.

-----------------------------------------------------------
### API CALLS ON THIS SCREEN
-----------------------------------------------------------
- **On Load**  
  `GET /utils/booking-window`  
  → Retrieves the current booking window (start and end dates).

- **On Date Select**  
  `GET /slots/all-activities?date=YYYY-MM-DD&people=5`  
  → Returns all available slots for each activity on that date,  
    including remaining capacity and status.

- **On Proceed**  
  No backend call yet — only client-side validation is performed.  
  Backend validation occurs on the next screen (AB-3).

-----------------------------------------------------------
### NAVIGATION
-----------------------------------------------------------
- "← Back to Activity Details" → Returns to Screen AB-1  
- "Continue to Confirmation →" → Proceeds to Screen AB-3 (Booking Summary & Payment)

-----------------------------------------------------------
### ERROR STATES
-----------------------------------------------------------
- Missing date selection → "Please select a date to continue."
- Missing slot for any activity → Inline warning below that activity.
- Slot full after selection → Alert: "Selected slot is full. Please choose another."
- Disabled slot click → No action, gray state.
-----------------------------------------------------------

-----------------------------------------------------------
### SLOT DISPLAY LOGIC (AB-2)
-----------------------------------------------------------
// For Surfing (3 people needed):
- Show only Surfing slots
- Filter → available_spots ≥ 3
- Display → time, capacity, availability status

// For SUP (2 people needed):
- Show only SUP slots
- Filter → available_spots ≥ 2
- Display → time, capacity, availability status

💡 Logic Summary:
- Each activity filters its own slot list based on required people count.
- Slots with insufficient capacity are hidden or disabled.
- Show real-time availability (e.g., “37/40 available”).
- When user selects a slot → mark as [SELECTED].
- Automatically unselects any previous slot for that activity.
-----------------------------------------------------------

### NAVIGATION
-----------------------------------------------------------
- "← Back to Activity Details" → Screen AB-1 (preserve form data)
- "← Back" → Screen AB-1
- "Continue to Confirmation →" → Validate slot selections → Screen AB-3

-----------------------------------------------------------
### ERROR STATES
-----------------------------------------------------------
- No date selected → "Please select a date"
- Missing slot selection → "Please select a time slot for [Activity]"
- Slot becomes unavailable → "This slot is no longer available. Please select another time."
- API failure → "Unable to load available slots. Please try again."
-----------------------------------------------------------


===========================================================
Screen AB-3: Confirmation & Payment
===========================================================
┌────────────────────────────────────────────────────────────────────┐
│                    🏄 Mumbai Surf Club                              │
│                   Activity Booking                                 │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ← Back to Slot Selection                                          │
│                                                                    │
│  ══════════════════════════════════════════════════════════════   │
│  Step 3 of 3: Confirmation & Payment                         ●●●  │
│  ══════════════════════════════════════════════════════════════   │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  📅 Session Details                                                 │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  Date: Friday, October 25, 2025                                    │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ 🏄 Surfing Session                                      │       │
│  │ Time: 4:30 PM - 6:00 PM                                │       │
│  │                                                        │       │
│  │ Participants (3 people):                               │       │
│  │ • John Doe (30 years)                                  │       │
│  │ • Jane Doe (28 years)                                  │       │
│  │ • Bob Smith (35 years)                                 │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ 🏄‍♂️ SUP Session                                          │       │
│  │ Time: 3:00 PM - 4:30 PM                                │       │
│  │                                                        │       │
│  │ Participants (2 people):                               │       │
│  │ • Alice Johnson (29 years)                             │       │
│  │ • Mike Davis (31 years)                                │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  👤 Customer Information                                            │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  Name:  John Doe                                                   │
│  Email: john.doe@example.com                                       │
│  Phone: +91 98765 43210                                            │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  💰 Pricing Breakdown                                               │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  Surfing:  3 people × ₹1,700         =  ₹5,100                     │
│  SUP:      2 people × ₹1,700         =  ₹3,400                     │
│                                       ─────────                    │
│  Subtotal:                               ₹8,500                     │
│  GST (18%):                              ₹1,530                     │
│                                       ═════════                    │
│  Total Amount:                           ₹10,030                    │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  📋 Important Information                                           │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  • Please arrive 15 minutes before your session                    │
│  • All equipment will be provided                                  │
│  • Wear comfortable swimwear                                       │
│  • Bring sunscreen and water bottle                                │
│  • Cancellation allowed up to 24 hours before                      │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ ☐ I agree to the Terms & Conditions and                │       │
│  │   Cancellation Policy                                   │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  ──────────────────────────────────────────────────────────────   │
│                                                                    │
│  [ ← Back ]                    [ Proceed to Payment → ]            │
│                                  (disabled until T&C checked)      │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘

API Calls on This Screen:
-----------------------------------------------------------
On Load: POST /pricing/activity → Calculate exact pricing

json   
{
     "people": [
       {"activity_type": "surf"},
       {"activity_type": "surf"},
       {"activity_type": "surf"},
       {"activity_type": "sup"},
       {"activity_type": "sup"}
     ]
}

On "Proceed to Payment": POST /bookings/activity → Create booking

json   
{
     "customer_name": "John Doe",
     "customer_email": "john.doe@example.com",
     "customer_phone": "9876543210",
     "session_date": "2025-10-25",
     "people": [
       {"name": "John Doe", "age": 30, "activity_type": "surf"},
       {"name": "Jane Doe", "age": 28, "activity_type": "surf"},
       {"name": "Bob Smith", "age": 35, "activity_type": "surf"},
       {"name": "Alice Johnson", "age": 29, "activity_type": "sup"},
       {"name": "Mike Davis", "age": 31, "activity_type": "sup"}
     ],
     "activity_slots": {
       "surf": {"activity_slot_id": 12},
       "sup": {"activity_slot_id": 45}
     }
}

3. On Success: Payment gateway integration → Booking confirmation screen
-----------------------------------------------------------

Validation Rules:
-----------------------------------------------------------
- Terms & Conditions: Must be checked to enable payment button
- Payment Button: Disabled until T&C checkbox is checked

Navigation:
-----------------------------------------------------------
- "← Back to Slot Selection" → Screen AB-2 (preserve data)
- "← Back" → Screen AB-2
- "Proceed to Payment →" → Create booking → Payment gateway → Success screen

Success Flow:
-----------------------------------------------------------
Create Booking API Call
  ↓
Success Response with booking_id
  ↓
Initiate Payment (Razorpay/Stripe)
  ↓
Payment Success
  ↓
Redirect to: /booking-success?ref=BOOKING_REF

Error States:
-----------------------------------------------------------
- Booking Creation Failed: 
  - "Slot no longer available" → Show alert, redirect to Screen AB-2
  - "Insufficient capacity" → Show error, redirect to Screen AB-2
  - "Server error" → Show retry option
- Payment Failed: Show error, allow retry
- Network Error: Show offline message, save form data
-----------------------------------------------------------
## Activity Booking - Success Screen
-----------------------------------------------------------
┌────────────────────────────────────────────────────────────────────┐
│                    🏄 Mumbai Surf Club                              │
│                                                                    │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│                                                                    │
│                          ✅                                         │
│                                                                    │
│              Booking Confirmed!                                    │
│                                                                    │
│      Your activity booking has been successfully created           │
│                                                                    │
│                                                                    │
│  ────────────────────────────────────────────────────────────     │
│  Booking Reference: SURF-12345-20251025                            │
│  ────────────────────────────────────────────────────────────     │
│                                                                    │
│  📧 Confirmation email sent to: john.doe@example.com               │
│                                                                    │
│  ┌────────────────────────────────────────────────────────┐       │
│  │ Your Sessions:                                          │       │
│  │                                                        │       │
│  │ 📅 Friday, October 25, 2025                            │       │
│  │                                                        │       │
│  │ 🏄 Surfing: 4:30 PM - 6:00 PM                          │       │
│  │ 3 people                                               │       │
│  │                                                        │       │
│  │ 🏄‍♂️ SUP: 3:00 PM - 4:30 PM                             │       │
│  │ 2 people                                               │       │
│  │                                                        │       │
│  │ Total Paid: ₹10,030                                     │       │
│  └────────────────────────────────────────────────────────┘       │
│                                                                    │
│  [ Download Invoice ]  [ View Booking Details ]                    │
│                                                                    │
│  ──────────────────────────────────────────────────────────────   │
│                                                                    │
│  What's Next?                                                      │
│                                                                    │
│  • Arrive 15 minutes early for check-in                           │
│  • Bring valid ID for verification                                │
│  • Wear comfortable swimwear                                       │
│  • We'll provide all equipment                                     │
│                                                                    │
│  Need help? Contact us at: +91 98765 43210                         │
│                                                                    │
│  [ ← Back to Home ]         [ Book Another Activity → ]            │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
-----------------------------------------------------------

# Activity Booking Navigation Summary
-----------------------------------------------------------
AB-1: Activity & Details
  │
  ├─> "Next" → Validate → AB-2
  └─> "← Back" → Exit to main page

AB-2: Date & Slots  
  │
  ├─> "Continue" → Validate → AB-3
  └─> "← Back" → AB-1 (preserve data)

AB-3: Confirmation
  │
  ├─> "Proceed to Payment" → Create Booking → Payment → Success
  └─> "← Back" → AB-2 (preserve data)

Success Screen
  │
  ├─> "← Back to Home" → Main page
  └─> "Book Another Activity" → AB-1 (clear data)
-----------------------------------------------------------